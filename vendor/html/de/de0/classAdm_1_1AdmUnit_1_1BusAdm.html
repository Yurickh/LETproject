<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>LETproject: Referência da Classe Adm.AdmUnit.BusAdm</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">LETproject
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Gerado por Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Busca');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Página&#160;Principal</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Arquivos</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Busca" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Lista&#160;de&#160;Componentes</span></a></li>
      <li><a href="../../hierarchy.html"><span>Hierarquia&#160;de&#160;Classes</span></a></li>
      <li><a href="../../functions.html"><span>Componentes&#160;Membros</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('de/de0/classAdm_1_1AdmUnit_1_1BusAdm.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>Todos</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Arquivos</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Funções</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variáveis</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Métodos Públicos</a> &#124;
<a href="../../d0/d02/classAdm_1_1AdmUnit_1_1BusAdm-members.html">Lista de todos os Membros</a>  </div>
  <div class="headertitle">
<div class="title">Referência da Classe Adm.AdmUnit.BusAdm</div>  </div>
</div><!--header-->
<div class="contents">

<p>Camada de negócio para o módulo de administração.  
 <a href="../../de/de0/classAdm_1_1AdmUnit_1_1BusAdm.html#details">Mais...</a></p>
<div class="dynheader">
Diagrama de Hierarquia para Adm.AdmUnit.BusAdm:</div>
<div class="dyncontent">
 <div class="center">
  <img src="../../de/de0/classAdm_1_1AdmUnit_1_1BusAdm.png" usemap="#Adm.AdmUnit.BusAdm_map" alt=""/>
  <map id="Adm.AdmUnit.BusAdm_map" name="Adm.AdmUnit.BusAdm_map">
<area href="../../d3/d53/classAdm_1_1AdmUnit_1_1IfBusAdm.html" title="Interface para a camada de negócio do módulo de Administração. " alt="Adm.AdmUnit.IfBusAdm" shape="rect" coords="0,0,144,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Métodos Públicos</h2></td></tr>
<tr class="memitem:a0650e636805d049ce37fae5b0ac132e0"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/de0/classAdm_1_1AdmUnit_1_1BusAdm.html#a0650e636805d049ce37fae5b0ac132e0">editAccounts</a></td></tr>
<tr class="memdesc:a0650e636805d049ce37fae5b0ac132e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Edita dados de um conta no database.  <a href="#a0650e636805d049ce37fae5b0ac132e0">Mais...</a><br/></td></tr>
<tr class="separator:a0650e636805d049ce37fae5b0ac132e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classAdm_1_1AdmUnit_1_1IfBusAdm"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classAdm_1_1AdmUnit_1_1IfBusAdm')"><img src="../../closed.png" alt="-"/>&#160;Métodos Públicos inherited from <a class="el" href="../../d3/d53/classAdm_1_1AdmUnit_1_1IfBusAdm.html">Adm.AdmUnit.IfBusAdm</a></td></tr>
<tr class="memitem:abe924f0f983b1fe97ca466907d35c834 inherit pub_methods_classAdm_1_1AdmUnit_1_1IfBusAdm"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d53/classAdm_1_1AdmUnit_1_1IfBusAdm.html#abe924f0f983b1fe97ca466907d35c834">__init__</a></td></tr>
<tr class="memdesc:abe924f0f983b1fe97ca466907d35c834 inherit pub_methods_classAdm_1_1AdmUnit_1_1IfBusAdm"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construtor da classe.  <a href="#abe924f0f983b1fe97ca466907d35c834">Mais...</a><br/></td></tr>
<tr class="separator:abe924f0f983b1fe97ca466907d35c834 inherit pub_methods_classAdm_1_1AdmUnit_1_1IfBusAdm"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31857b146085382c8d778ae90cd46c6f inherit pub_methods_classAdm_1_1AdmUnit_1_1IfBusAdm"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d53/classAdm_1_1AdmUnit_1_1IfBusAdm.html#a31857b146085382c8d778ae90cd46c6f">pers</a></td></tr>
<tr class="memdesc:a31857b146085382c8d778ae90cd46c6f inherit pub_methods_classAdm_1_1AdmUnit_1_1IfBusAdm"><td class="mdescLeft">&#160;</td><td class="mdescRight">Objeto que representa a camada de persistência, subjacente a de Bus.  <a href="#a31857b146085382c8d778ae90cd46c6f">Mais...</a><br/></td></tr>
<tr class="separator:a31857b146085382c8d778ae90cd46c6f inherit pub_methods_classAdm_1_1AdmUnit_1_1IfBusAdm"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31857b146085382c8d778ae90cd46c6f inherit pub_methods_classAdm_1_1AdmUnit_1_1IfBusAdm"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d53/classAdm_1_1AdmUnit_1_1IfBusAdm.html#a31857b146085382c8d778ae90cd46c6f">pers</a></td></tr>
<tr class="memdesc:a31857b146085382c8d778ae90cd46c6f inherit pub_methods_classAdm_1_1AdmUnit_1_1IfBusAdm"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checa se o objeto recebido é uma instância da Persistência.  <a href="#a31857b146085382c8d778ae90cd46c6f">Mais...</a><br/></td></tr>
<tr class="separator:a31857b146085382c8d778ae90cd46c6f inherit pub_methods_classAdm_1_1AdmUnit_1_1IfBusAdm"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31857b146085382c8d778ae90cd46c6f inherit pub_methods_classAdm_1_1AdmUnit_1_1IfBusAdm"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d53/classAdm_1_1AdmUnit_1_1IfBusAdm.html#a31857b146085382c8d778ae90cd46c6f">pers</a></td></tr>
<tr class="memdesc:a31857b146085382c8d778ae90cd46c6f inherit pub_methods_classAdm_1_1AdmUnit_1_1IfBusAdm"><td class="mdescLeft">&#160;</td><td class="mdescRight">Método de deleção do objeto que representa a camada de persistência.  <a href="#a31857b146085382c8d778ae90cd46c6f">Mais...</a><br/></td></tr>
<tr class="separator:a31857b146085382c8d778ae90cd46c6f inherit pub_methods_classAdm_1_1AdmUnit_1_1IfBusAdm"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dd3605edbfe5fdc729fdeceec5ab879 inherit pub_methods_classAdm_1_1AdmUnit_1_1IfBusAdm"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d53/classAdm_1_1AdmUnit_1_1IfBusAdm.html#a4dd3605edbfe5fdc729fdeceec5ab879">editAccounts</a></td></tr>
<tr class="memdesc:a4dd3605edbfe5fdc729fdeceec5ab879 inherit pub_methods_classAdm_1_1AdmUnit_1_1IfBusAdm"><td class="mdescLeft">&#160;</td><td class="mdescRight">Edita dados de um conta no database.  <a href="#a4dd3605edbfe5fdc729fdeceec5ab879">Mais...</a><br/></td></tr>
<tr class="separator:a4dd3605edbfe5fdc729fdeceec5ab879 inherit pub_methods_classAdm_1_1AdmUnit_1_1IfBusAdm"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_attribs_classAdm_1_1AdmUnit_1_1IfBusAdm"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_classAdm_1_1AdmUnit_1_1IfBusAdm')"><img src="../../closed.png" alt="-"/>&#160;Atributos Públicos inherited from <a class="el" href="../../d3/d53/classAdm_1_1AdmUnit_1_1IfBusAdm.html">Adm.AdmUnit.IfBusAdm</a></td></tr>
<tr class="memitem:a95ea8f39fbbcddf44822e1614c712bfe inherit pub_attribs_classAdm_1_1AdmUnit_1_1IfBusAdm"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d53/classAdm_1_1AdmUnit_1_1IfBusAdm.html#a95ea8f39fbbcddf44822e1614c712bfe">pers</a></td></tr>
<tr class="separator:a95ea8f39fbbcddf44822e1614c712bfe inherit pub_attribs_classAdm_1_1AdmUnit_1_1IfBusAdm"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Descrição Detalhada</h2>
<div class="textblock"><p>Deve ser capaz de manipular os dados do sistema, dando as devidas diretrizes ao banco de dados para que seja inserido, atualizado ou deletado dados sobre uma determinada conta, podendo ser esta de um Estudante, Professor ou de um Curso. </p>

<p>Definição na linha <a class="el" href="../../db/dd3/AdmUnit_8py_source.html#l00341">341</a> do arquivo <a class="el" href="../../db/dd3/AdmUnit_8py_source.html">AdmUnit.py</a>.</p>
</div><h2 class="groupheader">Métodos</h2>
<a class="anchor" id="a0650e636805d049ce37fae5b0ac132e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def Adm.AdmUnit.BusAdm.editAccounts </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dict_field_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>action</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>database</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>form</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Podendo ser este de uma conta de Estudante, Professor ou um Curso. </p>

<p>Definição na linha <a class="el" href="../../db/dd3/AdmUnit_8py_source.html#l00345">345</a> do arquivo <a class="el" href="../../db/dd3/AdmUnit_8py_source.html">AdmUnit.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00345"></a><span class="lineno"><a class="line" href="../../de/de0/classAdm_1_1AdmUnit_1_1BusAdm.html#a0650e636805d049ce37fae5b0ac132e0">  345</a></span>&#160;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keyword">def </span><a class="code" href="../../de/de0/classAdm_1_1AdmUnit_1_1BusAdm.html#a0650e636805d049ce37fae5b0ac132e0">editAccounts</a>(self, dict_field_value, action, database, form):</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        </div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        <span class="comment"># Inicia o dicionário dict_data.</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <span class="comment">#   Será utilizado para informar os campos e dados para registro do usuário.</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        dict_data = {}</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        database_fields = [<span class="stringliteral">&#39;NAME&#39;</span>, <span class="stringliteral">&#39;SEX&#39;</span>, <span class="stringliteral">&#39;PASSWORD&#39;</span>, <span class="stringliteral">&#39;MATRIC&#39;</span>, <span class="stringliteral">&#39;CAMPUS&#39;</span>,<span class="stringliteral">&#39;EMAIL&#39;</span>]</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        <span class="comment"># Se for uma ação de registro do usuário.</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        <span class="keywordflow">if</span> action == <span class="stringliteral">&quot;registrar&quot;</span>: </div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;            <span class="comment"># Percorre os campos e valores coletador no request.POST.</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;            <span class="keywordflow">for</span> field, value <span class="keywordflow">in</span> dict_field_value.items():</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                <span class="comment"># Transforma os unicodes do dicionário em strings.</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                field = str(field)</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                <span class="comment"># Coleta a palavra chave do campo designado.</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                <span class="comment">#   Esta é coletada a partir dos campos contidos no dicionário.</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                newField = field[4:].upper()</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                <span class="comment"># Se o campo encontrado pertence à lista de campos do database que deveriam</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                <span class="comment"># pertencer a um usuário, então este é adicionado ao dicionário que será</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                <span class="comment"># repassado para inserção no banco de dados posteriormente.</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                <span class="keywordflow">if</span> newField <span class="keywordflow">in</span> database_fields:</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                    dict_data[newField] = form.cleaned_data[field].value</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;            <span class="comment"># Escolhe uma linguagem padrão para cadastro de um usuário qualquer.</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;            dict_data[<span class="stringliteral">&#39;LANGUAGE&#39;</span>] = <span class="stringliteral">&#39;en&#39;</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;            <span class="comment"># Se for uma entidade estudante então é feito o pedido de inserção </span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;            <span class="comment"># no banco de dados com o determinado modelo.</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;            <span class="keywordflow">if</span> database.__name__ == <span class="stringliteral">&quot;Student&quot;</span>:</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                self.pers.data_in(dict_data, database)</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        <span class="keywordflow">elif</span> action == <span class="stringliteral">&quot;atualizar&quot;</span>:</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;            data = self.pers.fetch(dict_field_value[<span class="stringliteral">&#39;username&#39;</span>], Student)</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;            <span class="keywordflow">return</span> data</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        <span class="keywordflow">elif</span> action == <span class="stringliteral">&quot;apagar&quot;</span>:</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;            data = self.pers.fetch(dict_field_value[<span class="stringliteral">&#39;username&#39;</span>], Student)</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;            <span class="keywordflow">return</span> data</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        <span class="keywordflow">elif</span> action == <span class="stringliteral">&quot;name&quot;</span>:</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            fpw = form.cleaned_data[<span class="stringliteral">&#39;password&#39;</span>].value</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            <span class="keywordflow">if</span> fpw != user[<span class="stringliteral">&#39;password&#39;</span>]:</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                <span class="keywordflow">raise</span> ValueError(lang.DICT[<span class="stringliteral">&#39;EXCEPTION_INV_PW_F&#39;</span>])</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            newdata = form.cleaned_data[<span class="stringliteral">&#39;newdata&#39;</span>].value</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        <span class="keywordflow">elif</span> action == <span class="stringliteral">&quot;password&quot;</span>:</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;            npw = form.cleaned_data[<span class="stringliteral">&#39;newdata&#39;</span>].value</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;            rpw = form.cleaned_data[<span class="stringliteral">&#39;rp_newdata&#39;</span>].value</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            opw = form.cleaned_data[<span class="stringliteral">&#39;old_password&#39;</span>].value</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            <span class="keywordflow">if</span> npw != rpw:</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                <span class="keywordflow">raise</span> ValueError(lang.DICT[<span class="stringliteral">&#39;EXCEPTION_INV_PW_R&#39;</span>])</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;            <span class="keywordflow">if</span> opw != user[<span class="stringliteral">&#39;password&#39;</span>]:</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                <span class="keywordflow">raise</span> ValueError(lang.DICt[<span class="stringliteral">&#39;EXCEPTION_INV_PW_F&#39;</span>])</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;            newdata = npw</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        <span class="keywordflow">elif</span> action == <span class="stringliteral">&quot;language&quot;</span>:</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            newdata = form.cleaned_data[<span class="stringliteral">&#39;newdata&#39;</span>]</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        <span class="keywordflow">elif</span> action == <span class="stringliteral">&quot;avatar&quot;</span>:</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            addr = settings.MEDIA_ROOT + <span class="stringliteral">u&quot;/&quot;</span> + user[<span class="stringliteral">&#39;avatar&#39;</span>]</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            with open(addr, <span class="stringliteral">&quot;wb&quot;</span>) <span class="keyword">as</span> destination:</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                    <span class="keywordflow">for</span> chunk <span class="keywordflow">in</span> request.FILES[<span class="stringliteral">&#39;newdata&#39;</span>].chunks():</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                        destination.write(chunk)</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;            newdata = form.cleaned_data[<span class="stringliteral">&#39;newdata&#39;</span>].value</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        <span class="keywordflow">try</span>:</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            self.pers.update(user[<span class="stringliteral">&#39;name&#39;</span>], field, newdata, Student)</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        <span class="keywordflow">except</span> ValueError <span class="keyword">as</span> exc:</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;            <span class="keywordflow">raise</span> ValueError(lang.DICT[<span class="stringliteral">&#39;EXCEPTION_ERR_DB_U&#39;</span>])</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;</div>
</div>
<div class="ttc" id="classAdm_1_1AdmUnit_1_1BusAdm_html_a0650e636805d049ce37fae5b0ac132e0"><div class="ttname"><a href="../../de/de0/classAdm_1_1AdmUnit_1_1BusAdm.html#a0650e636805d049ce37fae5b0ac132e0">Adm.AdmUnit.BusAdm.editAccounts</a></div><div class="ttdeci">def editAccounts</div><div class="ttdoc">Edita dados de um conta no database. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dd3/AdmUnit_8py_source.html#l00345">AdmUnit.py:345</a></div></div>
</div><!-- fragment -->
</div>
</div>
<hr/>A documentação para esta classe foi gerada a partir do seguinte arquivo:<ul>
<li>ELO/Adm/<a class="el" href="../../db/dd3/AdmUnit_8py_source.html">AdmUnit.py</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../da/d8c/namespaceAdm.html">Adm</a></li><li class="navelem"><a class="el" href="../../de/d94/namespaceAdm_1_1AdmUnit.html">AdmUnit</a></li><li class="navelem"><a class="el" href="../../de/de0/classAdm_1_1AdmUnit_1_1BusAdm.html">BusAdm</a></li>
    <li class="footer">Gerado em Quinta, 9 de Outubro de 2014 03:08:44 para LETproject por
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
